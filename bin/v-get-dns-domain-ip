#!/bin/bash
# info: get dns domain ip
# options: USER DOMAIN
#
# The function of obtaining the list of dns domain parameters.
 #----------------------------------------------------------#
#                    Variable&Function                     #
#----------------------------------------------------------#
 # Argument definition
user=$1
domain=$2
record=$3
type=$4
 # Includes
source $VESTA/func/main.sh

#----------------------------------------------------------#
#                    Verifications                         #
#----------------------------------------------------------#
 check_args '2' "$#" 'USER DOMAIN'
ch1=$(is_object_valid 'user' 'USER' "$user");
ch2=$(is_object_valid 'dns' 'DOMAIN' "$domain");
 #----------------------------------------------------------#
#                       Action                             #
#----------------------------------------------------------#
 #user exists
if [ ! -z "$ch1" ]; then
        echo "$ch1";
        exit;
fi;
 #file Exists
if [ ! -z "$ch2" ]; then
        echo "$ch2";
        exit;
fi;
 #it's OK! Let's Proceed.
# Parsing domain
eval $(grep "DOMAIN='$domain'" $USER_DATA/dns.conf)
echo "$IP";
